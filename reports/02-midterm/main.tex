\documentclass[a4paper,english,10pt,NET]{tumarticle}

% TUM packages
\usepackage{tumfonts}
\usepackage{tumarticle}
\usepackage{tumlocale}
\usepackage{tumcmd}

\usepackage{graphicx} % Required for inserting images
\usepackage[style=american]{csquotes}
\usepackage{hyperref}
\usepackage{xspace}

\usepackage{tabularx}
\usepackage{booktabs}

\usepackage{siunitx}
\usepackage{todo}

\usepackage{cleveref}

\usepackage{tikz}
\usepackage{pgf-umlcd}
\usepackage{messagepassing}
\usepackage{bytefield}
\usetikzlibrary{arrows.meta,calc,fit,positioning,decorations.pathmorphing,automata,shapes}
\tikzset{
	>={Stealth[scale=0.7]},
	every edge/.style={>={Stealth[scale=0.7]},draw,},
	automata/.style={
		->,
		every edge/.style={>={Stealth[scale=1.3]},font=\footnotesize,shorten >=1pt,draw,},
		font=\small,
		initial text={},
		every state/.style={draw=TUMBlue,very thick,fill=TUMLightBlue,ellipse,},
		every loop/.style={looseness=5,},
		node distance=1.8cm and 2.3cm,
	},
}

\renewcommand{\eg}{\mbox{e.\,g.}\xspace} % already defined in tumcmd but without xspace
\renewcommand{\ie}{\mbox{i.\,e.}\xspace} % already defined in tumcmd but without xspace
\newcommand{\cf}{\mbox{c.\,f.}\xspace}
\newcommand{\tos}{$\to$\xspace}

% Set document title. If no language is supplied, the document language is
% assumed.
\title{P2Psec Project -- Midterm Report}
\author{Fabio Gaiba, Lukas Heindl}
\date{July 2nd, 2024}

\begin{document}

\maketitle
\thispagestyle{tumarticle}

\section{Introduction}

Let's remember the team name \textbf{Whisper2Peer} :)

\section{Changes to initial assumptions}

\section{Module Architecture}

\begin{figure}
	\centering
	\input{figures/overview}
	\caption{A high level overview of the modules and the channels.}
	\label{fig:overview}
\end{figure}

\subsection{Logical structure}

classes, ..., 

% \begin{figure}
% 	\centering
% 	\input{figures/cd}
% 	\caption{Class diagram.}
% 	\label{fig:cd}
% \end{figure}

\subsection{Process architecture}

\begin{figure}
	\centering
	\input{figures/fsm_msgs}
	\caption{Finite state machine for message caching.}
	\label{fig:fsm_msgs}
\end{figure}

threading, multi-process, ... (a lot of intersection with the classes, but I think here we can go in depth about the communication part)

% \begin{figure}
% 	\centering
% 	\input{figures/sequence}
% 	\caption{Messagepassing of one instance/scenario.}
% 	\label{fig:msg}
% \end{figure}

\subsection{Networking} 

AsyncIO, goroutines, ... ofc capnproto as well

\section{Security Measures}

E.g secure channels between peers, sybil resistance mechanism, concurrent lookup paths in DHT protocol, . . . 

You should briefly describe the intention behind the security measure and how you want to implement it


\section{Specification of the peer-to-peer protocol}

(that will be implemented)

Message formats (as given in this document)

Reasoning why the messages are needed

\subsection{capnproto}
\subsubsection{push}
\begin{table}
	\centering
	\begin{tabularx}{.85\linewidth}{llX}
		\toprule
		Field & Type & Description
		\\
		\midrule
		ttl & Uint8 & Time to live: specifies nodes with which distance to the \Todo{reveicing/transmitting} should still be reached
		\\
		gossipType & Uint16 & Type of the payload (set by the module talking on the vertical API)
		\\
		messageId & Uint16 & Identifier of this message
		\\
		payload & Data & Bytes of data that is spread in the network
		\\
		\bottomrule
	\end{tabularx}
	\caption{Contents of a push packet.}
	\label{tab:push}
\end{table}
See \cref{tab:push} for reference.

\section{Future Work}

Features you wanted to include in the implementation but couldnâ€™t finish so far

\section{Workload distribution}

\section{???}

Effort spent for the project (please specify individual effort)

I don't get the difference to Workload Distribution...



\todos

\end{document}
